<SplitScreen>:
    carouselWidget: carouselWidget
    step1: step1
    step2: step2
    step3: step3
    step4: step4
    step5: step5

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            size_hint_y: None
            height: 50
            orientation: 'horizontal'

            size_hint_x: None
            width: self.parent.width

            canvas:
                Color:
                    rgba: 0, 0, 0, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Button:
                id: step1
                text: 'STEP1'

            Button:
                id: step2
                text: 'STEP2'
                disabled: 'True'

            Button:
                id: step3
                text: 'STEP3'
                disabled: 'True'


            Button:
                id: step4
                text: 'STEP4'
                disabled: 'True'

            Button:
                id: step5
                text: 'STEP5'
                disabled: 'True'

        Carousel:
            id: carouselWidget
            scroll_distance: 100

<UserMainScreen>:
    # objectProperty names
    startButton: start

    FloatLayout:

        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'center'

            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    pos: ((2/3)*self.width, 0) if self.width*0.88 > self.height else ((1/4)*self.width, 0)
                    size: ((1/3)*self.width, ((1/3)*self.width)*1.1875) if self.width*0.88 > self.height else ((4/5)*self.width, ((4/5)*self.width)*1.1875)
                    #size: (600, 712.5)
                    source: "View/chiliBowl.png"

        Label:
            text:"Get Your Customized \nHot Sauce"
            halign: 'center'
            font_name: "OstrichSans"
            bold: True
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.35,"top":0.80}
            size_hint: 0.35, 0.15

        Label:
            text:"Or Scan Your \nQR Code Here"
            halign: 'center'
            font_name: "OstrichSans"
            font_size: (root.width**2 + root.height**2) / 15**4
            pos_hint: {"x":0.07, "bottom":0.3}
            size_hint: 0.35, 0.15


        RoundedButton:
            id: start
            pos_hint:{"x":0.65,"y":0.05}
            size_hint: 0.3, 0.2
            font_name: "OstrichSans"
            bold: True
            font_size: (root.width**2 + root.height**2) / 13**4
            text: "Start"
            color: 0, 0, 0, 1

<SizeScreen>:
    toggleButtonSmall: small
    toggleButtonMedium: medium
    toggleButtonLarge: large
    nextButton: nextButton

    canvas.before:
        Color:
            rgba: 0.19, 0.19, 0.19, 1
        Rectangle:
            pos: self.pos
            size: self.size

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'center'

        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: ((2/3)*self.width, 0) if self.width*0.88 > self.height else ((1/4)*self.width, 0)
                size: ((1/3)*self.width, ((1/3)*self.width)*1.1875) if self.width*0.88 > self.height else ((4/5)*self.width, ((4/5)*self.width)*1.1875)
                #size: (600, 712.5)
                source: "View/chiliBowl.png"

    FloatLayout:

        Label:
            text:"Choose Cup Size"
            font_name: "Pacifico"
            font_size: (root.width**2 + root.height**2) / 15**4
            pos_hint: {"x":0.35,"top":0.9}
            size_hint: 0.35, 0.15

        RelativeLayout:
            ToggleButton:
                id: small
                size_hint: None, None
                size: 0.15 * root.width, 0.15 * root.height
                pos_hint:{"x":0.15,"y":0.61}
                text: 'SMALL'
                bold: True
                font_name: "Pacifico"
                group: 'cupSize'

        RelativeLayout:
            ToggleButton:
                id: medium
                size_hint: None, None
                size: 0.15 * root.width, 0.15 * root.height
                pos_hint:{"x":0.15,"y":0.4}
                text: 'MEDIUM'
                bold: True
                font_name: "Pacifico"
                group: 'cupSize'



        RelativeLayout:
            ToggleButton:
                id: large
                size_hint: None, None
                size: 0.15 * root.width, 0.15 * root.height
                pos_hint:{"x":0.15,"y":0.19}
                text: 'LARGE'
                font_name: "Pacifico"
                bold: True
                group: 'cupSize'

    RoundedButton:
        id: nextButton
        pos_hint:{"x":0.65,"y":0.05}
        size_hint: 0.3, 0.2
        font_size: (root.width**2 + root.height**2) / 13**4
        font_name: "OstrichSans"
        bold: True
        color: 0, 0, 0, 1
        disabled: 'True'
        text: ""






<BaseScreen>:
    grid: base_grid
    nextButton: next
    flavourOfMonthButton: flavOfMonth

    canvas.before:
        Color:
            rgba: 0.19, 0.19, 0.19, 1
        Rectangle:
            pos: self.pos
            size: self.size

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'center'

        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: ((2/3)*self.width, 0) if self.width*0.88 > self.height else ((1/4)*self.width, 0)
                size: ((1/3)*self.width, ((1/3)*self.width)*1.1875) if self.width*0.88 > self.height else ((4/5)*self.width, ((4/5)*self.width)*1.1875)
                #size: (600, 712.5)
                source: "Images/chiliBowl.png"


    AnchorLayout:
        anchor_x: 'center'

        GridLayout:
            id: base_grid
            size_hint_x: 0.6
            size_hint_y: 0.2
            cols: 2

    FloatLayout:

        RoundedButton:
            id: next
            pos_hint:{"x":0.65,"y":0.05}
            size_hint: 0.3, 0.2
            font_size: (root.width**2 + root.height**2) / 13**4
            font_name: "OstrichSans"
            bold: True
            color: 0, 0, 0, 1
            disabled: 'True'
            text: "Next"

        RoundedButton:
            id: flavOfMonth
            pos_hint:{"x":0.05,"y":0.05}
            size_hint: 0.3, 0.2
            font_size: (root.width**2 + root.height**2) / 16**4
            font_name: "OstrichSans"
            bold: True
            color: 0, 0, 0, 1
            text: "Sauce Of The Month"



<SauceOfMonth>:
    doneButton: done
#    closeButton: close

    FloatLayout:
        Label:
            text: "Sauce of the Month"
            font_name: "Pacifico"
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.35,"top":1}
            size_hint: 0.35, 0.15

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True

            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                GridLayout:
                    id: flavor_grid
                    size_hint_x: 0.6
                    size_hint_y: 0.6
                    cols: 1

        RoundedButton:
            id: done
            pos_hint:{"x":0.65,"y":0.05}
            size_hint: 0.3, 0.2
            font_size: (root.width**2 + root.height**2) / 13**4
            font_name: "OstrichSans"
            bold: True
            color: 0, 0, 0, 1
            text: "Done"








<FlavorScreen>:
    grid: flavor_grid
    nextButton: next

    canvas.before:
        Color:
            rgba: 0.19, 0.19, 0.19, 1
        Rectangle:
            pos: self.pos
            size: self.size

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'center'

        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: ((2/3)*self.width, 0) if self.width*0.88 > self.height else ((1/4)*self.width, 0)
                size: ((1/3)*self.width, ((1/3)*self.width)*1.1875) if self.width*0.88 > self.height else ((4/5)*self.width, ((4/5)*self.width)*1.1875)
                #size: (600, 712.5)
                source: "Images/chiliBowl.png"

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'

            GridLayout:
                id: flavor_grid
                size_hint_x: 0.6
                size_hint_y: 0.6
                cols: 2



    FloatLayout:

        RoundedButton:
            id: next
            pos_hint:{"x":0.65,"y":0.05}
            size_hint: 0.3, 0.2
            font_size: (root.width**2 + root.height**2) / 13**4
            font_name: "OstrichSans"
            bold: True
            color: 0, 0, 0, 1
            text: "Next"

<AmountScreen>:
    scroll: scroll
    box: box

    canvas.before:
        Color:
            rgba: 0.19, 0.19, 0.19, 1
        Rectangle:
            pos: self.pos
            size: self.size


    BoxLayout:
        orientation: 'vertical'
        id: box

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            id: scroll


<BaseGridTemplate1>:
    baseLabel1: baseLabel1

    cols: 1
    size_hint_y: None
    height: self.minimum_height

    Label:
        id: baseLabel1
        size_hint_y: None
        height: 50
        font_name: "Pacifico"
        font_size: "18sp"

    Widget:
        id: baseChart
        size_hint_y: None
        height: root.width
        size_hint_x: None
        width: root.width

        canvas:
            Color:
                rgb: 1, 1, 1, 1
            Ellipse:
                source: 'View/c2.png'
                size: self.size
                pos: self.pos
                angle_start: 360
            Ellipse:
                source: 'View/c1.png'
                size: self.size
                pos: self.pos
                angle_end: 360


<BaseGridTemplate2>:
    baseLabel1: baseLabel1
    baseLabel2: baseLabel2
    slider: slider

    cols: 1
    size_hint_y: None
    height: self.minimum_height

    Label:
        size_hint_y: None
        height: 50
        text: "Drag to Adjust Amount"
        font_name: "Pacifico"
        font_size: "18sp"


    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: 75

        Label:
            id: baseLabel1
            text: "Base 1"
            font_name: "Pacifico"
            font_size: "18sp"

        RoundedButton2:
            id: reset
            text: 'Reset'

            on_press: reset.value = 180
            on_press: slider.value = 180

            font_name: "OstrichSans"
            font_size: 18
            bold: True
            color: 0, 0, 0, 1

            size_hint_y: None
            height: 50

            size_hint_x: None
            width: self.parent.width * 0.2

            pos_hint: {'center_y': 0.5}

        Label:
            id: baseLabel2
            text: "Base 2"
            font_name: "Pacifico"
            font_size: "18sp"

    Slider:
        id: slider
        min: 0
        max: 360
        value: 180
        step: 30
        size_hint_y: None
        height: 70

    Widget:
        id: baseChart
        size_hint_y: None
        height: root.width
        size_hint_x: None
        width: root.width

        canvas:
            Color:
                rgb: 1, 1, 1, 1
            Ellipse:
                source: 'View/c2.png'
                size: self.size
                pos: self.pos
                angle_start: slider.value
            Ellipse:
                source: 'View/c1.png'
                size: self.size
                pos: self.pos
                angle_end: slider.value

<BaseStackTemplate1>:
    baseLabel1: baseLabel1

    cols: 1
    size_hint_y: None
    height: self.minimum_height
    size_hint_x: None

    Label:
        id: baseLabel1
        size_hint_y: None
        size_hint_x: None
        height: 50
        font_name: "Pacifico"
        font_size: "18sp"

<BaseStackTemplate2>:
    baseLabel1: baseLabel1
    baseLabel2: baseLabel2
    slider: slider

    cols: 1
    size_hint_y: None
    height: self.minimum_height
    size_hint_x: None

    Label:
        size_hint_y: None
        height: 50
        text: "Drag to Adjust Amount"
        font_name: "Pacifico"
        font_size: "22sp"


    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: 75

        Label:
            id: baseLabel1
            text: "Base 1"
            font_name: "Pacifico"
            font_size: "18sp"

        RoundedButton2:
            id: reset
            text: 'Reset'

            on_press: reset.value = 180
            on_press: slider.value = 180

            font_name: "OstrichSans"
            font_size: 18
            bold: True
            color: 0, 0, 0, 1

            size_hint_y: None
            height: 50

            size_hint_x: None
            width: self.parent.width * 0.2

            pos_hint: {'center_y': 0.5}

        Label:
            id: baseLabel2
            text: "Base 2"
            font_name: "Pacifico"
            font_size: "18sp"

<ConfirmScreen>:
    orderButton: orderButton
    confirmLayout: confirmLayout

    canvas.before:
        Color:
            rgba: 0.19, 0.19, 0.19, 1
        Rectangle:
            pos: self.pos
            size: self.size

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'center'

        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: ((2/3)*self.width, 0) if self.width*0.88 > self.height else ((1/4)*self.width, 0)
                size: ((1/3)*self.width, ((1/3)*self.width)*1.1875) if self.width*0.88 > self.height else ((4/5)*self.width, ((4/5)*self.width)*1.1875)
                #size: (600, 712.5)
                source: "Images/chiliBowl.png"


    FloatLayout:

        RoundedButton:
            id: orderButton
            pos_hint:{"x":0.65,"y":0.05}
            size_hint: 0.3, 0.2
            font_size: (root.width**2 + root.height**2) / 14**4
            font_name: "OstrichSans"
            bold: True
            color: 0, 0, 0, 1
            text: "Place Order"

        BoxLayout:
            orientation: 'vertical'

            Label:
                text: "Confirm Your Order"
                font_name: "Pacifico"
                font_size: (root.width**2 + root.height**2) / 14**4
                pos_hint: {"x":0.35,"top":1}
                size_hint: 0.35, 0.15

            GridLayout:
                #orientation: 'horizontal'
                cols: 2

                StackLayout:
                    id: confirmLayout
                    orientation: "tb-lr"
                    minimum_height: 100
                    minimum_width: root.width*0.5

            Label:
                text: "*items may contain or come into contact with WHEAT, EGGS, PEANUTS, TREE NUTS, and MILK"
                font_name: "OstrichSans"
                font_size: (root.width**2 + root.height**2) / 19**4
                pos_hint: {"x":0.1,"y":0.01}
                size_hint: 0.35, 0.15





<loadingPopup>:
    orientation: "vertical"
    gif: gif

    Label:
        text: "Preparing Your Order"
        font_name: "Pacifico"
        font_size: '24sp'
        pos_hint: {"x":0.35,"top":1}
        size_hint: 0.35, 0.15

    Image:
        id: gif
        source: 'View/newGif.gif'
        center: self.parent.center
        size: 500, 500
        #allow_stretch: True
        anim_delay: 0.5
        #anim_loop: 1

        Label:
            id: baseLabel1
            text: "Base 1"
            font_name: "Pacifico"
            font_size: "18sp"

        RoundedButton2:
            id: reset
            text: 'Reset'

            on_press: reset.value = 180
            on_press: slider.value = 180

            font_name: "OstrichSans"
            font_size: 18
            bold: True
            color: 0, 0, 0, 1

            size_hint_y: None
            height: 50

            size_hint_x: None
            width: self.parent.width * 0.2

            pos_hint: {'center_y': 0.5}

        Label:
            id: baseLabel2
            text: "Base 2"
            font_name: "Pacifico"
            font_size: "18sp"

    Slider:
        id: slider
        min: 0
        max: 360
        value: 180
        step: 30
        size_hint_y: None
        height: 70

<AmountPieChart>:

    id: baseChart
    size_hint_y: None
    height: root.width
    size_hint_x: None
    width: root.width
    pie_chart_value: 180

    canvas:
        Color:
            rgb: 1, 1, 1, 1
        Ellipse:
            source: 'View/c2.png'
            size: self.size
            pos: self.pos
            angle_start: self.pie_chart_value
        Ellipse:
            source: 'View/c1.png'
            size: self.size
            pos: self.pos
            angle_end: self.pie_chart_value


<FlavorsLayout>:
    flavorAddB: flavorAddB
    flavorRemoveB: flavorRemoveB
    label_text: label_text
    flavorName: flavorName

    size_hint_y: None
    height: 75
    cols: 3

    CircleButton:
        id: flavorAddB
        text: '+'
        font_size: 18
        size_hint_x: None
        width: 75
        padding: (100, 100)

    BoxLayout:
        orientation: 'vertical'

        Label:
            id: flavorName
            text:"Flavor"
            font_name: "Pacifico"

        Label:
            id: label_text
            font_size: 18

    CircleButton:
        id: flavorRemoveB
        text: "-"
        font_size: 18
        size_hint_x: None
        width: 75





<RoundedButton2@Button>:
    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
    canvas.before:
        Color:
            rgba: (128,128,128,0.6) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [50,50]

<CircleButton@Button>:
    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
    canvas.before:
        Color:
            rgba: (128,128,128,0.6) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [70,70]


<RoundedButton@Button>:
    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
    colour: (0, 0, 0, 0)
    canvas.before:
        Color:
            rgba: self.colour
            #rgba: (1,1,1,0) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [30,]

<AmountGridLayout>
    size_hint_y: None
    height: self.minimum_height
    cols: 1
    padding: [10]
    spacing: 15

<DoneRoundedButton1@RoundedButton>:
    size_hint_y: 0.1
    font_size: '25sp'
    font_name: "OstrichSans"
    bold: True
    text: "Done"
    background_color: 1,1,1,0.5
    colour: (0, 0, 0, 0)

<DoneRoundedButton2>:
    pos_hint:{"x":0.65,"y":0.05}
    size_hint: 0.3, 0.2
    font_size: '50sp'
    font_name: "OstrichSans"
    bold: True
    text: "Done"
    background_color: 1,1,1,0.5
    colour: (0, 0, 0, 0)

